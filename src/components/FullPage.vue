<template>
    <div class="full-page">
		<div class="section content1">
            <div class="title-logo-wrapper">
                <div class="title-logo">
                    <img src="@/assets/florigen_mascort.png">
                </div>
            </div>
            <div class="title-top-wrap">
                <div class="main-headline">Robot Platform Connecting</div>
            </div>
            <div class="title-container">
                <span>F</span>
                <span>L</span>
                <span>O</span>
                <span>R</span>
                <span>I</span>
                <span>G</span>
                <span>E</span>
                <span>N</span>
                <span>&nbsp;</span>
                <span>R</span>
                <span>O</span>
                <span>B</span>
                <span>O</span>
                <span>T</span>
                <span>I</span>
                <span>C</span>
                <span>S</span>
            </div>
            <div class="title-underline textA">
                <span>provides innovative API robotcis to make people safer.</span>
            </div>
            <div class="title-wrapper">
                <div class="title-underline textB">
                    <span>- Connecting Robot, People and City -</span>
                </div>
            </div>
		</div>

        
        <div class="section content-temp">
            <div class="section-inner-wrapper">
                <h2 class="headline">
                    Detecting Hazardous Materials and
                    <br>
                    Protecting people from hazardous environments.
                    <br>
                    We have the following goals:
                </h2>
                <div class="div-block"></div>
                <div class="RPC-content-wrap">
                    <div class="RPC-content-box RPC-box-A">
                        <div class="RPC-card-wrap">
                            <div class="card-head-shape-wrap">
                            </div>
                            <h3 class="card-headline">Robot</h3>
                            <div class="card-text">
                                Easily deploy, configure, and manage an entire robotic fleet at scale. Monitor a fleet in real-time or jump directly to an event to review and resolve incidents quickly and collaboratively.
                            </div>
                        </div>
                    </div>
                    <div class="RPC-content-box RPC-box-A">
                        <div class="RPC-card-wrap">
                            <div class="card-head-shape-wrap">
                            </div>
                            <h3 class="card-headline">People</h3>
                            <div class="card-text">
                                With excellent tools for simple tasks such as moving objects from afar, or more difficult tasks. 
                            </div>
                        </div>
                    </div>
                    <div class="RPC-content-box RPC-box-A">
                        <div class="RPC-card-wrap">
                            <div class="card-head-shape-wrap">
                            </div>
                            <h3 class="card-headline">City</h3>
                            <div class="card-text">
                                With a laser scanner and program routine scanning routes to create digital twins of worksites and identify rework sooner.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

		<div class="section content2">
            <div class="content-container">
                <div class="column-wrap">
                    <div class="contents-box-wrap">
                        <div class="box-wrap text-box-wrap">
                            <div class="text-inner">
                                <h5>ROUTE SETTING</h5>
                                
                                <div>A spot with a sensor that detects a dangerous object moves safely and quickly to its destination via a pinpoint set by an algorithm on the path.</div>
                                <div>It is suitable for substituting tasks that are dangerous or impossible for the operator, and these tasks are performed without the direct supervision of the operator.</div>
                            </div>
                        </div>
                        <div class="box-wrap img-box-wrap">
                            <img class="img-box-inner" src="@/assets/control_1.png">
                        </div>
                    </div>
                    <div class="contents-box-wrap">
                        <div class="box-wrap img-box-wrap-reverse">
                            <img class="img-box-inner" src="@/assets/control_2.png">
                        </div>
                        <div class="box-wrap text-box-wrap-reverse">
                            <div class="text-inner">
                                <h5>DRIVING ASSISTANCE</h5>
                                <div>A sophisticated obstacle avoidance algorithm allows supervisors to manually control the rough workspace. Superviser drive a fleet using maps or GPS, and if you have user permissions, you can easily manage access for entire team. </div>
                                <div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
		<div class="section content3">
            <div class="content-container">
                <div class="column-wrap">
                    <div class="contents-box-wrap">
                        <div class="box-wrap img-box-wrap-reverse">
                            <img src="@/assets/monitoring_1.png" class="img-box-inner">
                        </div>
                        <div class="box-wrap text-box-wrap-reverse">
                            <div class="text-inner">
                                <h5>FLEET MANAGEMENT PLATFORM</h5>
                                <div>Real-time analytics and reporting on the uptime, performance, efficiency and potential faults of multi-manufacturer robot fleets.</div>
                                <div>It not only analyzes the information of the terrain and surrounding environment, but also provides a user interface that can monitor the status of the robot in real time or review the previous situation. </div>
                            </div>
                        </div>
                    </div>
                    <div class="contents-box-wrap">
                        <div class="box-wrap text-box-wrap">
                            <div class="text-inner">
                                <h5>NAVAGATE VISUALIZATIONS</h5>
                                <div>Sophisticated monitoring technology allows you to know what the robot has done through the history of the robot's situation.</div>
                                <div>The 3D shape information generated from the site focuses on the reliability of data analysis, and the acquired data is quickly refined and shared with the site. </div>
                                <div>These Powerful performances help to getting quickly and easily to the information, and a fleet play a role in helping people work in a safe environment.</div>
                            </div>
                        </div>
                        <div class="box-wrap img-box-wrap">
                            <img src="@/assets/monitoring_2.png" class="img-box-inner">
                        </div>
                    </div>
                </div>
            </div>
        </div>

		<div class="section content4">
            <div class="content-container">
                <div class="column-wrap">
                    <div class="contents-box-wrap">
                        <div class="box-wrap text-box-wrap">
                            <div class="text-inner">
                                <h5>OBJECT VISUALIZTION</h5>
                                <div>High-resolution lidar sensors paired with software that detects and classifies vehicles, pedestrians, bicyclists, and even specific incidents across all light and weather conditions.</div>
                                <div>3D mapping is revolutionizing the construction, surveying, and autonomy industries. High-resolution 360º digital lidar enables faster indoor and outdoor scans to power precise SLAM map creation.</div>
                            </div>
                        </div>
                        <div class="box-wrap img-box-wrap">
                            <img src="@/assets/digital_twin_1.png" class="img-box-inner">
                        </div>
                    </div>
                    <div class="contents-box-wrap">
                        <div class="box-wrap img-box-wrap-reverse">
                            <img src="@/assets/digital_twin_2.png" class="img-box-inner">
                        </div>
                        <div class="box-wrap text-box-wrap-reverse">
                            <div class="text-inner">
                                <h5>ENVIRONMENT DECTECTION</h5>
                                <div>A robot with a high-performance lidar sensor recognizes the surrounding environment in real time and performs 3D mapping.</div>
                                <div>Teleop in when an issue arises and navigate the robot to safety with intuitive, low-latency controls for your robot’s custom configuration, or run a command remotely to get it back to its desired state. You can even drive the robot with a map or with GPS, and user permissions mean that you can manage access across your teams easily.</div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

        <div class="section content5">
            <div class="partner-title-wrap">
                <h4>Meet our partner</h4>
            </div>
            <div class="patner-logo">
                <img src="../assets/partner-logo/1x/gs_e_c.png">
            </div>
		</div>
        <div class="section footer">
            <div class="content-footer"> 
                <div class="company-info-container">
                    <div class="info-wrap">
                        <img  class="logo" src="../assets/partner-logo/1x/gs_e_c.png" style="object-fit: none;">
                        <span>
                            
                            <div><span class="tel-label">Tel.</span><span class="tel-number">010-0000-0000</span></div>
                            <div>email: kimdk4618@gmail.com</div>
                            <div>address: 대구광역시 동구</div>
                        </span>
                    </div>
                </div>
                <div class="contact-us">
                    <form ref="form" @submit.prevent="sendEmail" id="contact-form">
                        <div class="name-box contact-bottom">
                            <div class="item-col">
                                <label>First Name</label>
                                <input type="text" name="user_name">
                            </div>
                            <div class="contact-block">

                            </div>
                            <div class="item-col">
                                <label>Last Name</label>
                                <input type="text" name="last_name">
                            </div>
                        </div>
                        <div class="contact-box contact-bottom">
                            <div class="item-col">
                                <label>Email</label>
                                <input type="email" name="user_email">
                            </div>
                            <div class="contact-block"></div>
                            <div class="item-col">
                                <label>Phone Number</label>
                                <input type="text" name="phone_number" placeholder="optional">
                            </div>

                        </div>
                        <div class="email-box">
                            <div class="textarea">
                                <label>Message</label>
                                <textarea name="message"></textarea>
                            </div>

                        </div>
                        <div class="contact-us-send-area">
                            <div class="send-block"></div>
                            <div class="send-button">
                                <input type="submit" value="Send">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
		</div>
    </div>
</template>



<script>
import { ref, onMounted } from 'vue';
import { useStore } from "vuex";
import emailjs from '@emailjs/browser';

export default {
    name: 'FullPage',
    methods: {
        // Email.js script
        sendEmail() {
            emailjs.sendForm('service_9i6jtmn', 'template_2meis47', this.$refs.form, 'frLQs-MItrzuXx6Ft')
            .then((result) => {
                alert('The message was sent successfully.', result.text);
            }, (error) => {
                console.log('FAILED...', error.text);
            });
        },
    },
    props: {
    },
    setup(){
        const store = useStore();
        let inMove = false;
		let activeSection = 0;
		let offsets = [];
		let touchStartY = 0;

        const calculateSectionOffsets = function() {
            let sections = document.getElementsByClassName('section');
            let length = sections.length;

            for(let i = 0; i < length; i++) {
                let sectionOffset = sections[i].offsetTop;
                offsets.push(sectionOffset);
            }
        }
        const handleMouseWheel = function(e) {
            
            if (e.wheelDelta < 5 && !inMove) {
                moveUp();
            } else if (e.wheelDelta > 5 && !inMove) {
                moveDown();
            }
                
            e.preventDefault();
            return false;
        }
        const handleMouseWheelDOM = function(e) {
            
            if (e.detail > 0 && !inMove) {
                moveUp();
            } else if (e.detail < 0 && !inMove) {
                moveDown();
            }
            
            return false;
        }
        const moveDown = function() {
            inMove = true;
            activeSection--;
                
            // if(activeSection < 0) activeSection = offsets.length - 1;
            if(activeSection < 0) activeSection = 0;
            
            scrollToSection(activeSection, true);
        }
        const moveUp = function() {
            inMove = true;
            activeSection++;
                
            // if(activeSection > offsets.length - 1) activeSection = 0;
            if(activeSection > offsets.length - 1)  activeSection -= 1;
                
            scrollToSection(activeSection, true);
        }
        const scrollToSection = function(id, force = false) {
            if(inMove && !force) return false;
            
            activeSection = id;
            store.dispatch('main/setPageIndex', id);
            inMove = true;
            
            
            setTimeout(() => {
                inMove = false;
            }, 400);
            
        }
        const touchStart = function(e) {
            e.preventDefault();
            
            touchStartY = e.touches[0].clientY;
        }
        const touchMove = function(e) {
            if(inMove) return false;
            e.preventDefault();
            
            const currentY = e.touches[0].clientY;
            
            if(touchStartY < currentY) {
                moveDown();
            } else {
                moveUp();
            }
            
            touchStartY = 0;
            return false;
        }

        store.watch(() => store.getters['main/currentPageIndex'], index => {
            activeSection = index;
            document.getElementsByClassName('section')[index].scrollIntoView({behavior: 'smooth'});
            inMove = true;
            
            
            setTimeout(() => {
                inMove = false;
            }, 400);
        });

        onMounted(() => {
            calculateSectionOffsets();
        
            window.addEventListener('DOMMouseScroll', handleMouseWheelDOM);  // Mozilla Firefox
            window.addEventListener('mousewheel', handleMouseWheel, { passive: false }); // Other browsers
            
            window.addEventListener('touchstart', touchStart, { passive: false }); // mobile devices
            window.addEventListener('touchmove', touchMove, { passive: false }); // mobile devices
        })
        return{

        }
    }

}
</script>
<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
@for $i from 1 through 17 {
  .title-container span:nth-child(#{$i}) {
    animation-delay: calc(200ms * #{$i});
  }
}
</style>
<style scoped>
.full-page {
    width: 100%;
}
.title-container{
    display: flex;
    justify-content: center;
    align-items: center;
    transform: translateX(20px);
}
.title-logo-wrapper {
    position: relative;
}
.title-logo {
    position: absolute;
    top: -250px;
    left: 50%;
    transform: translate(-50%, 0);
}
.title-top-wrap {
    padding-bottom: 2em;
}
.main-headline {
    font-family: "Moderat-M";
    color: white;
    font-weight: 300;
    font-size: 30px;
    letter-spacing: 1px;
}
.title-container span{
    font-family: "Montserrat";
    text-transform: uppercase;
    font-weight: bold;
    font-size: 4em;
    color: #fff;
    letter-spacing: 2rem;
    margin-bottom: 0.2em;
    /*   filter: blur(3px); */
    animation: blurMe 1.4s ease-in-out forwards;
    opacity: 0;
}

@keyframes blurMe {
  0% {
    filter: blur(10px);
    opacity: 0;
  }
  100% {
    filter: blur(0px);
    opacity: 1;
  }
}

.section {
  height: 100vh;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}
.footer{
    height: 40vh !important;
    background: #000000ee;
    color: white;
}
/* @keyframes blurMeUL {
  from {
    filter: blur(10px);
    opacity: 0;
    transform: translateX(-120px);
  }
  to {
    filter: blur(0px);
    opacity: 1;
    transform: translateX(gi);
  }
} */

.title-wrapper {
    margin-top: 0.5em;
}
.title-underline .textA {
    margin-top: 60px;
}
.title-underline > span {
    font-family: 'Moderat';
    color: white;
    font-weight: 300;
    font-size: 30px;
    line-height: 30px;
}
.content-temp {
    background: #e9edf8;
    width: 100vw;
}
.content2 {
    background-image: linear-gradient(#1d3244,#11202c);
    /* background: #242d45; */
    display: flex;
    flex-direction: row;
}
.content3 {
    /* background: #1e2339; */
    background-image: linear-gradient(#11202c,#091520);
    display: flex;
    flex-direction: row;
}
.content4 {
    /* background: #1c1e2e; */
    background-image: linear-gradient(#091520,#050d14);
    display: flex;
    flex-direction: row;
}
/* .content4{
    display:flex;
    flex-direction: row;
    color: white;
} */

h2{
    font-size: 2.5em;
    /* letter-spacing: -1px; */
    margin: 0;
    text-align: left;
    color: white;
    /* padding-top: 8em; */
    padding-bottom: 0.2em;
}
h3{
    font-size: 2.5em;
    flex:1;
    margin: 0 0 20px 0;
    text-align: center;
    color: white;
}
h4 {
    font-family: 'Roboto', sans-serif;
    font-weight: 700px;
    font-size: 3em;
    letter-spacing: 2px;
    margin: 0;
    text-align: left;
    color: white;
    /* padding-top: 8em; */
    padding-bottom: 1em;
}
h5 {
    font-family: 'Roboto', sans-serif;
    font-weight: 400px;
    font-size: 2em;
    letter-spacing: 1px;
    margin: 0;
    text-align: left;
    color: #7953fa;
    /* padding-top: 8em; */
    padding-bottom: 1em;
}
.section-inner-wrapper {
    padding-top: 40px;
    /* padding-bottom: 60px; */
    margin-left: 20px;
    margin-right: 20px;
    display: flex;
    flex-direction: column;
    align-content: center;
    max-width: 1440px;
}
.headline {
    font-family: "Moderat-M";
    font-weight: 400;
    color: #39456c;
    line-height: 55px;
    text-align: center;
    margin-bottom: 25px;
}
.div-block {
    height: 60px;
}
.RPC-content-wrap {
    width: 100%;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: center;
    flex-wrap: wrap;
}
.RPC-content-box {
    /* width: 33.33%; */
    padding: 20px;
    display: flex;
    flex: 1;
    /* flex-direction: column; */
}
.RPC-card-wrap {
    position: relative;
    /* display: block; */
    width: 100%;
    /* background: white; */
    background: linear-gradient(290deg, white 55%, #F8F9FC 55%);
    border-radius: 6px;
    padding: 30px;
    min-height: 350px;
}
.card-head-shape-wrap {
    position: relative;
    align-items: center;

}
.card-headline {
    font-family: "Moderat-M";
    text-align: left;
    font-weight: 400;
    color: #39456c;
    padding-top: 100px;
    padding-bottom: 20px;
    letter-spacing: 1px;
}
.card-text {
    font-family: "Moderat";
    font-style: normal;
    color: #4c5981;
    font-weight: 400;
    font-size: 1em;
    line-height: 26px;
    letter-spacing: 1px;
}

.content-container{
    display:flex;
    /* flex:1; */
    padding-top: 70px;
    margin: 0 10vw;
}
.content-footer {
    display: flex;
}
.column-wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    /* margin-top: 80px; */
    /* flex: 1; */
}

.contents-box-wrap {
    display: flex;
    justify-content: center;
    /* width: 100%; */
    padding: 30px 0;
}
.box-wrap {
    flex: 1;
}
.text-box-wrap {
    padding-right: 30px;
}
.text-box-wrap-reverse {
    padding-left: 30px;
}
.text-inner {
    max-width: 700px;
}
.text-inner > div {
    color: #cccfedcc;
    font-size: 1em;
    margin-bottom: 1.5em;
}
.img-box-wrap {
    padding-left: 30px;
}
.img-box-wrap-reverse {
    padding-right: 30px;
}
.img-box-inner {
    max-width: 90%; height: auto; box-shadow: 3px 3px 20px 5px #0e0e0e;
}

.content5{
    background: #000000aa;
}
#contact-form{
    display:flex;
    flex:1;
    padding: 0 30px;
    flex-direction: column;
}
#contact-form input[type=text], #contact-form input[type=email]{
    height:2.9630vh;
    padding-left: 5px;
    color: white;
    font-size: 1em;
    background: #ffffff55;
    border: solid 1px white;
    border-radius: 4px;
}
/* #contact-form input[type=submit]{
    height: 2.9630vh;
} */
#contact-form label{
    margin: 5px;
}
.company-info-container{
    width:31.0417vw;
    margin: auto;
}
.info-wrap {
    display: flex;
    flex-direction: column;
}
.contact-us{
    display:flex;
    flex-direction: column;
    width: 30vw;
    /* margin: 30px ; */
}
#contact-form .item-col input {
    display: inline-block;
    width: 100%;
    height: 30px;
    color: #2f2f2f;
    font-family: 'Moderat-M';
    background: #fff;
    border: solid;
}
.contact-block {
    width: 2vw;
}
.contact-bottom {
    padding-bottom: 5px;
}
.name-box {
    display: flex;
}
.contact-box {
    display: flex;
}
.email-box {
    width: 100%;
}
.item-col {
    display: flex;
    flex-direction: column;
}
.textarea {
    display: flex;
    flex-direction: column;
}
#contact-form textarea {
    /* flex: 1; */
    width: 100%;
    height: 80px;
    resize: none;
    /* padding: 10px 20px; */
    font-size: 1em;
    color: #2f2f2f;
}

/* #contact-form textarea{
    flex:1;
    padding: 2px;
    color: white;
    padding-bottom: 20px;
    margin-bottom: 20px;
    background: #ffffff55;
    border:solid 1px white;
    resize: none;
} */
.contact-us-send-area {
    display: flex;
    flex: 1;
}
.send-block {
    width: 70%;
}
.send-button {
    padding-top: 20px;
}
.contact-us .send-button input[type="submit"] {
    font-family: 'Moderat';
    font-size: 1em;
    width: 150px;
    height: 60px;
    padding: 5px 20px;
    border: solid;
    color: #fff;
    background: #101010;
    cursor: pointer;
}
.contact-us .send-button input[type="submit"]:hover {
    background: #BF090C;
}


.partner-title-wrap {
    position: relative;
    top: -150px;
}
.patner-logo{
    margin: 30px 0;
}

.logo{
    float:left;
    margin: 0 20px;
}
.tel-label{
    font-size: 1.5em;
}
.tel-number{
    font-size: 1.1em;
}
</style>
